<!DOCTYPE html>
<html>

<head>
    <title>Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <!-- navbar starts here -->
    {% include "components/navbar.html" %}
    <!-- navbar ends here -->
    <!-- component -->
    <div class="bg-gray-200 min-h-screen pt-2 font-mono my-16">
        <div class="container mx-auto">
            <div class="inputs w-full max-w-2xl p-6 mx-auto">
                <h2 class="text-2xl text-gray-900">Account Setting</h2>
                <form action="" method="post" class="mt-6 border-t border-gray-400 pt-4">
                    {% csrf_token %}
                    <div class='flex flex-wrap -mx-3 mb-6'>
                        <div class='w-full md:w-full px-3 mb-6'>
                            <label class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'
                                for='grid-text-1'>email address</label>
                            <input
                                class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
                                id='grid-text-1' type='text' placeholder='{{e}}' readonly>
                        </div>
                        <div class='w-full md:w-full px-3 mb-6 '>
                            <label
                                class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>password</label>
                            <button
                                class="appearance-none bg-gray-200 text-gray-900 px-2 py-1 shadow-sm border border-gray-400 rounded-md ">change
                                your password</button>
                        </div>
                        <div class='w-full md:w-full px-3 mb-6 '>
                            <label class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>Upload
                                your profile picture</label>
                            <input type="file"
                                class="appearance-none bg-gray-200 text-gray-900 px-2 py-1 shadow-sm border border-gray-400 rounded-md "
                                name="file[]" id="files" />
                            <input type="hidden" name="url" id="url" />
                            <button type="button" onClick="uploadImage()">Upload</button>
                        </div>
                        <div class='w-full md:w-full px-3 mb-6'>
                            <label class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>                        state</label>
                            <div class="flex-shrink w-full inline-block relative">
                                <input
                                class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
                                id='grid-text-1' type='text' placeholder='{{state}}' readonly>
                            </div>
                        </div>
                        </div>
                        <div class="personal w-full border-t border-gray-400 pt-4">
                            <h2 class="text-2xl text-gray-900">Personal info:</h2>
                            <div class="flex items-center justify-between mt-4">
                                <div class='w-full md:w-1/2 px-3 mb-6'>
                                    <label
                                        class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>first
                                        name</label>
                                    <input
                                        class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
                                        type='text' id="fname" name="fname" placeholder='{{fname}}' readonly>
                                </div>
                                <div class='w-full md:w-1/2 px-3 mb-6'>
                                    <label
                                        class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>last
                                        name</label>
                                    <input
                                        class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
                                        type='text' name="lname" id="lname" placeholder='{{lname}}' readonly>
                                </div>
                            </div>
							<div class='w-full md:w-1/2 px-3 mb-6'>
								<label
									class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>Username</label>
								<input
									class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
									type='text' id="fname" name="fname" placeholder='{{uname}}' readonly>
							</div>
                            <div class='w-full md:w-1/2 px-3 mb-6'>
								<label
									class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>Phone Number</label>
								<input
									class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
									type='text' id="fname" name="fname" placeholder='{{pno}}' readonly>
							</div>
							<div class='w-full md:w-full px-3 mb-6'>
                                <label class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>Address</label>
                                <input
                                    class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
                                    type='text' placeholder='{{add}}' readonly>
                            </div>
							<div class='w-full md:w-1/2 px-3 mb-6'>
								<label
									class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>City</label>
								<input
									class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
									type='text' id="fname" name="fname" placeholder='{{city}}' readonly>
							</div>
							<div class='w-full md:w-1/2 px-3 mb-6'>
								<label
									class='block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2'>Postal Code</label>
								<input
									class='appearance-none block w-full bg-white text-gray-700 border border-gray-400 shadow-inner rounded-md py-3 px-4 leading-tight focus:outline-none  focus:border-gray-500'
									type='text' id="fname" name="fname" placeholder='{{zip}}' readonly>
							</div>
                            <div class="flex justify-end">
                                <input
                                    class="appearance-none bg-gray-200 text-gray-900 px-2 py-1 shadow-sm border border-gray-400 rounded-md mr-3"
                                    type="submit" value="save changes" />
                                {% comment %} <button
                                    class="appearance-none bg-gray-200 text-gray-900 px-2 py-1 shadow-sm border border-gray-400 rounded-md mr-3"
                                    type="submit">save changes</button> {% endcomment %}
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase.js"></script>
    <script>
        var config ={
            apiKey: 'AIzaSyBl-5DPtTBMXwC6eOxDP1K19wLSANBhkeg',
            authDomain: 'smartpark-380e6.firebaseapp.com',
            databaseURL: 'https://smartpark-380e6-default-rtdb.firebaseio.com/',
            storageBucket: 'smartpark-380e6.appspot.com',
            messagingSenderId: '986213369518'
        };
        firebase.initializeApp(config);

        function uploadImage(){
            console.log("uploading")
            var storage = firebase.storage();

            var file = document.getElementById('files').files[0];
            print(file)
            var storageRef = storage.ref();
            
            var thisref = storageRef.child(file.name).put(file);
            thisref.on('state_changed', function(snapshot){
                console.log('File Uploaded Successfully');
            },
            funtion(error){
                console.log("error");
            },
            function(){
                var downloadURL = thisref.snapshot.downloadURL;
                console.log("got URL");
                alert("File Uploaded Successfully");
            }); 
        }
    </script>
</body>
</html>