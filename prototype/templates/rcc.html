{% load static %}
<!DOCTYPE html>
<html>
<head>
    <!-- navbar starts here -->
    {% include "components/navbar.html" %}
    <!-- navbar ends here -->
    <title>API Example</title>
    <script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
    <script>
        $(document).ready(function() {
            // Get the JSON data returned from the server
            var data = JSON.parse('{{ result.result|safe }}');
          
            // Check if there is any data
            if (data.length > 0) {
                // Create an empty table
                var table = $('<table>').appendTo('body');
          
                // Add a header row to the table
                var headerRow = $('<tr>').appendTo(table);
                $('<th>').text('Field').appendTo(headerRow);
                $('<th>').text('Value').appendTo(headerRow);
          
                // Loop through the data and add a row for each item
                for (var i = 0; i < data.length; i++) {
                    var item = data[i];
                    var row = $('<tr>').appendTo(table);
                    $('<td>').text(item.key).appendTo(row);
                    $('<td>').text(item.value).appendTo(row);
                }
            } else {
                // Display a message if no data was returned
                $('<p>').text('No result found.').appendTo('body');
            }
        });
        
    </script>
</head>
<body>
</body>
</html>
